{% extends "base.html" %}
{% block title %}Learn and Share{% endblock %}
{% block content %}
{% if tag %}
<h4>Posts tagged with <i>{{ tag.name }}</i></h4>
{% endif %}

<div class="card-group">
{% for post in posts %}

<div class="card" style="width: 24rem;">
    <!-- <img src="..." class="card-img-top" alt="..."> -->
    <div class="card-body">
        <h4 class="card-title">
            <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
        </h4>
        <p class="card-subtitle">
            Published at {{ post.publish.date }} By <i>{{ post.author }}</i>
        </p>

        <div class="card-text justify-content-center">
            {{ post.body|truncatewords:30|linebreaks }}
        </div>

        <a href="{{ post.get_absolute_url }}" class="btn btn-primary">Read more..</a>
    
        <p class="tex-info">Tags:
            {% for tag in post.tags.all %}
            <a href="{% url 'blog:post_list_by_tag' tag.slug %}">{{ tag.name }}</a>
            {% if not forloop.last %}, {% endif %}
            {% empty %} <i>None</i>
            {% endfor %}
        </p>
    </div>

</div>

{% endfor %}
</div>

{% include "pagination.html" with page=posts%}
{% endblock %}